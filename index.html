<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pour Manon üçª</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            /* Fond vert pomme */
            background-color: #e6ffe6; 
            font-family: 'Arial', sans-serif;
            overflow: hidden; /* Emp√™che le scroll si le bouton sort de l'√©cran */
            position: relative; /* Pour positionner les √©l√©ments en arri√®re-plan */
        }
        
        /* Mosa√Øque Amundi */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/a/aa/Logo_d%27Amundi.png');
            background-repeat: repeat;
            opacity: 0.1; /* Transparence pour que ce soit un fond l√©ger */
            z-index: -1; /* Place le fond derri√®re le contenu */
        }

        .container {
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 400px;
            position: relative;
            z-index: 10; /* Assure que le contenu est au-dessus du fond Amundi et des images qui apparaissent */
        }
        h1 { color: #333; font-size: 24px; }
        .beer-icon { font-size: 80px; margin-bottom: 20px; }
        .buttons { margin-top: 30px; display: flex; justify-content: center; gap: 20px; }
        
        button {
            padding: 12px 30px;
            font-size: 18px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s;
            z-index: 20; /* S'assure que les boutons sont toujours cliquables */
            position: relative; /* N√©cessaire pour le z-index */
        }
        #yesBtn { background-color: #ff4081; color: white; }
        #noBtn { 
            background-color: #e0e0e0; 
            color: #555; 
            position: absolute; /* Reste en absolute pour pouvoir bouger */
            /* Ajout d'un left/top initial pour le positionnement */
            left: 50%; 
            transform: translateX(-50%); 
            top: auto; 
            bottom: 30px; /* Positionnement initial */
            white-space: nowrap; /* Emp√™che le texte de se couper si le bouton est trop petit */
        }
        
        .success-gif { width: 100%; border-radius: 10px; }

        .popup-image {
            position: absolute;
            opacity: 0; /* Commence invisible */
            transition: opacity 0.5s ease-in-out;
            pointer-events: none; /* Permet de cliquer √† travers l'image si elle recouvre des √©l√©ments */
            z-index: 0; /* S'assure que c'est en arri√®re-plan par rapport au conteneur */
            max-width: 200px; /* Taille maximale de l'image */
            height: auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>

<div class="container" id="mainCard">
    <div id="content">
        <div class="beer-icon">üç∫</div>
        <h1>Manon, est-ce que tu veux bien aller boire un verre ?</h1>
        <div class="buttons">
            <button id="yesBtn" onclick="celebrate()">Oui</button>
            <button id="noBtn" onmouseover="moveButton()">Non</button>
        </div>
    </div>
    <div id="celebration" style="display:none;">
        <img src="https://usagif.com/gif/funny-celebrate-14/" alt="F√™te" class="success-gif">
        <h2>Sant√© ! üéâüçª</h2>
    </div>
</div>

<script>
    const noBtn = document.getElementById('noBtn');
    const container = document.getElementById('mainCard'); // Utilise la carte comme r√©f√©rence pour le positionnement initial

    function moveButton() {
        const containerRect = container.getBoundingClientRect();
        const btnRect = noBtn.getBoundingClientRect();

        // Calcule les limites pour que le bouton reste visible
        const minX = containerRect.left;
        const maxX = containerRect.right - btnRect.width;
        const minY = containerRect.top;
        const maxY = containerRect.bottom - btnRect.height;
        
        // Nouvelle position al√©atoire dans les limites du viewport
        const newX = Math.random() * (window.innerWidth - btnRect.width);
        const newY = Math.random() * (window.innerHeight - btnRect.height);

        noBtn.style.left = newX + 'px';
        noBtn.style.top = newY + 'px';
        noBtn.style.position = 'fixed'; // Changer en fixed pour bouger sur toute la page
        noBtn.style.transform = 'none'; // Supprimer le transform pour ne pas interf√©rer avec left/top
    }

    // Gestion pour le bouton "Non" qui s'enfuit √† l'approche de la souris
    let noButtonInterval;
    noBtn.addEventListener('mouseover', () => {
        if (!noButtonInterval) {
            noButtonInterval = setInterval(moveButton, 100); // Bouge rapidement tant que la souris est dessus
        }
    });
    noBtn.addEventListener('mouseout', () => {
        clearInterval(noButtonInterval);
        noButtonInterval = null;
    });


    function celebrate() {
        document.getElementById('content').style.display = 'none';
        document.getElementById('celebration').style.display = 'block';
        // Arr√™ter l'intervalle des images flottantes si le "Oui" est cliqu√©
        clearInterval(imageInterval); 
    }

    // Fonction pour faire appara√Ætre l'image toutes les 2 secondes
    const imageUrl = 'https://i.postimg.cc/WhSwnY6p/image.png'; // L'image que tu as fournie
    let imageInterval;

    function spawnImage() {
        const img = document.createElement('img');
        img.src = imageUrl;
        img.className = 'popup-image';
        document.body.appendChild(img);

        // Position al√©atoire sur la page, mais pas sur le conteneur principal
        const containerRect = container.getBoundingClientRect();
        let x, y;

        // Tente de trouver une position hors du container principal
        let attempts = 0;
        do {
            x = Math.random() * (window.innerWidth - img.offsetWidth);
            y = Math.random() * (window.innerHeight - img.offsetHeight);
            attempts++;
            if (attempts > 50) break; // √âvite une boucle infinie si l'√©cran est trop petit
        } while (
            (x + img.offsetWidth > containerRect.left && x < containerRect.right &&
             y + img.offsetHeight > containerRect.top && y < containerRect.bottom)
        );

        img.style.left = x + 'px';
        img.style.top = y + 'px';
        img.style.opacity = 1; // Rendre visible

        // Faire dispara√Ætre l'image apr√®s quelques secondes et la supprimer
        setTimeout(() => {
            img.style.opacity = 0;
            setTimeout(() => {
                img.remove();
            }, 500); // Attendre la fin de la transition d'opacit√© avant de supprimer
        }, 4000); // L'image reste visible 4 secondes
    }

    // D√©marre la g√©n√©ration d'images toutes les 2 secondes
    window.onload = () => {
        imageInterval = setInterval(spawnImage, 2000);
    };

</script>

</body>
</html>
